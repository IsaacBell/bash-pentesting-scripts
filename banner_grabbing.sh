#--------------------------------------------------------------------------#
#   A simple script that performs banner grabbing                          #
#   againt a target and set of port numbers                                #
#                                                                          #
#   Usage: ./banner_grabbing.sh target_ip [space seperated port numbers]   #
#                                                                          #
#                      Bharath(yamakira)                                   #
#--------------------------------------------------------------------------#


#!/usr/bin/env bash

target_ip="$1"                                     # first argument is read as target IP address
echo -e "\nTarget --> $target_ip\n"
source="${@:2}"                                    # rest of arguments are read as target ports

for i in ${source[@]}                              # iterate through the set of target ports, one at a time
    do printf "$i " >> banners.txt;                # append port number being scanned to the file
    nc -vv -w1 192.168.56.102 $i >> banners.txt;   # append the banner(netcat stdout), if any, to the file 
    echo >> banners.txt;                           # append line break for formatting purpose
done

echo -e "\nResults\n-------------------"
    cat banners.txt                                # print the results from the file

